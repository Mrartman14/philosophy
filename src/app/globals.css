@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* ═══════════════════════════════════════════════════════════════
   TAILWIND V4 CONFIGURATION
   ═══════════════════════════════════════════════════════════════ */

@theme {
  --color-primary: oklch(72% 0.14 55);
  --color-background: #f6f2eb;
  --color-border: #c4cde0c6;
  --color-link: oklch(50% 0.15 250);
  --color-description: #6f798d;
  --color-text-pane: #c8cdd6ae;

  --spacing-header: 50px;
}

:root {
  color-scheme: light dark;

  --primary: var(--color-primary);
  --background: var(--color-background);
  --border: var(--color-border);
  --link: var(--color-link);
  --description: var(--color-description);
  --text-pane: var(--color-text-pane);
  --header-height: var(--spacing-header);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-background: #111a20;
    --color-border: #555c6a71;
    --color-link: oklch(70% 0.12 250);
    --color-description: #8b98b2;
    --color-text-pane: #00000092;
  }
}

/* TODO: theme switch */

/* @theme {
  --color-primary: #775fa4;
  --color-background: #f7f8fc;
  --color-border: #d4cdc8;
  --color-link: #639fa9;
  --color-description: #817f91;
  --color-text-pane: #d4cdc8aa;

  --spacing-header: 50px;
}

:root {
  color-scheme: light dark;

  --primary: var(--color-primary);
  --background: var(--color-background);
  --border: var(--color-border);
  --link: var(--color-link);
  --description: var(--color-description);
  --text-pane: var(--color-text-pane);
  --header-height: var(--spacing-header);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-background: #1e1c2e;
    --color-border: #3e3b55;
    --color-link: #a88cce;
    --color-description: #b0aed0;
    --color-text-pane: #0b0b2292;
  }
} */

@media (forced-colors: active) {
  /*
    AccentColor          Background of accented user interface controls.	
    AccentColorText      Text of accented user interface controls.	
    ActiveText           Text of active links.	
    ButtonBorder         Base border color of controls.	
    ButtonFace	         Background color of controls.	
    ButtonText           Text color of controls.	
    Canvas               Background of application content or documents.	
    CanvasText           Text color in application content or documents.	
    Field                Background of input fields.	
    FieldText            Text in input fields.	
    GrayText             Text color for disabled items (for example, a disabled control).	
    Highlight            Background of selected items.	
    HighlightText        Text color of selected items.	
    LinkText             Text of non-active, non-visited links.	
    Mark                 Background of text that has been specially marked (such as by the HTML mark element).	
    MarkText             Text that has been specially marked (such as by the HTML mark element).	
    SelectedItem         Background of selected items, for example, a selected checkbox.	
    SelectedItemText     Text of selected items.	
    VisitedText          Text of visited links.
  */

  :root {
    --color-primary: AccentColor;
    --color-background: Canvas;
    --color-border: ButtonBorder;
    --color-link: LinkText;
    /* --color-text-pane: CanvasText; */
    --color-description: GrayText;
  }

  *::target-text {
    background-color: Highlight;
    color: HighlightText;
  }
}

/* ═══════════════════════════════════════════════════════════════
   GLOBAL STYLES
   ═══════════════════════════════════════════════════════════════ */

* {
  scroll-margin-top: var(--spacing-header);
  scrollbar-color: var(--color-border) transparent;

  &::target-text {
    background-color: var(--color-primary);
    color: #fff;
  }
}

body:has(dialog[open]) {
  overflow: hidden;
}

/* ═══════════════════════════════════════════════════════════════
   CUSTOM COMPONENTS
   ═══════════════════════════════════════════════════════════════ */

.fancy-link {
  position: relative;

  &::after {
    content: "→";
    position: absolute;
    left: calc(100% + 5px);
    transition: left 200ms ease-in-out;
  }

  &:hover::after,
  &:focus::after {
    left: calc(100% + 15px);
  }
}

@media (prefers-color-scheme: dark) {
  .sensitive-image {
    filter: brightness(75%);
  }
}
