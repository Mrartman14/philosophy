(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{15621:()=>{},28379:(e,t,n)=>{"use strict";n.d(t,{ScrollProgressBar:()=>s});var l=n(95155),r=n(12115);let s=e=>{let{className:t}=e,[n,s]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=()=>{let e=window.scrollY||document.documentElement.scrollTop;s(e/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100)};return window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]),(0,l.jsx)("div",{className:"w-full h-1 bg-(--border) ".concat(t),children:(0,l.jsx)("div",{className:"h-full bg-(--primary)",style:{width:"".concat(n,"%")}})})}},30508:(e,t,n)=>{"use strict";n.d(t,{default:()=>L});var l=n(95155),r=n(12115),s=n(92853),a=n(11681),i=n(54231),o=n(44671),d=n(92156),c=n(76435),u=n(59311),h=n.n(u),m=n(49641).Buffer;async function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await Promise.all(e.sources.map(e=>g(e,t)))}async function g(e){var t,n;let l,r,s,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="".concat("https://mrartman14.github.io/philosophy").concat(e.path),o=await fetch(i),d=(n=o.headers.get("Content-Disposition"))&&n.includes("filename=")?n.split("filename=")[1].replace(/['"]/g,"").trim():null,u=await o.arrayBuffer(),p=u.byteLength,g=await h().loadAsync(u),f=await (null==(t=g.file("docProps/core.xml"))?void 0:t.async("text")),x=f?function(e){let t=e.match(/<dcterms:modified[^>]*>([^<]+)<\/dcterms:modified>/);return t?new Date(t[1]):null}(f):null,w=f?function(e){let t=e.match(/<cp:version[^>]*>([^<]+)<\/cp:version>/);return t?t[1]:null}(f):null,b=f?function(e){let t=e.match(/<cp:keywords[^>]*>([^<]+)<\/cp:keywords>/);return t?t[1]:null}(f):null,v=f?function(e){let t=e.match(/<dc:title[^>]*>([^<]+)<\/dc:title>/);return t?t[1]:null}(f):null,y=f?function(e){let t=e.match(/<dc:creator[^>]*>([^<]+)<\/dc:creator>/);return t?t[1]:null}(f):null,j=f?function(e){let t=e.match(/<cp:lastModifiedBy[^>]*>([^<]+)<\/cp:lastModifiedBy>/);return t?t[1]:null}(f):null,L={};a?L.buffer=m.from(u):L.arrayBuffer=u;let{value:C}=await (0,c.aY)({...L},{includeEmbeddedStyleMap:!1,ignoreEmptyParagraphs:!0,styleMap:["comment-reference => sup","u => span.underline.decoration-1","p[style-name='Quote'] => blockquote:fresh","highlight[color='yellow'] => span.bg-amber-700","highlight[color='green'] => span.bg-green-700","highlight[color='cyan'] => span.bg-cyan-700","highlight[color='magenta'] => span.bg-pink-700","highlight[color='blue'] => span.bg-blue-700","highlight[color='red'] => span.bg-red-700","highlight[color='darkYellow'] => span.bg-yellow-700","highlight[color='darkGreen'] => span.bg-green-700","highlight[color='darkCyan'] => span.bg-cyan-700","highlight[color='darkMagenta'] => span.bg-pink-700","highlight[color='darkBlue'] => span.bg-blue-700","highlight[color='darkRed'] => span.bg-red-700","highlight[color='black'] => span.bg-black","highlight[color='white'] => span.bg-white"]});if(a)throw Error("not implemented yet!");{let e=new DOMParser().parseFromString(C,"text/html");s=Array.from(e.querySelectorAll("h1, h2, h3, h4, h5, h6")).map(e=>{let t=e.textContent,n=null!=t?t:"".normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),l=parseInt(e.tagName[1],10);return e.id=n,{id:n,text:t,level:l}}),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:225,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return Math.ceil(e.replace(/<\/?[^>]+(>|$)/g,"").trim().split(/\s+/).filter(Boolean).length/t+(e.match(/<img [^>]*src="[^"]*"[^>]*>/g)||[]).length*n/60)}(l=e.body.innerHTML,200)}return{id:e.name,htmlString:l,headingsData:s,docxMeta:{title:v,version:w,keywords:b,createdBy:y,lastModified:x,lastModifiedBy:j},meta:{readingTime:r},fileMeta:{fileName:d,fileSizeInBytes:p}}}let f=e=>(0,l.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,l.jsx)("path",{d:"M4 4C4 3.44772 4.44772 3 5 3H14H14.5858C14.851 3 15.1054 3.10536 15.2929 3.29289L19.7071 7.70711C19.8946 7.89464 20 8.149 20 8.41421V20C20 20.5523 19.5523 21 19 21H5C4.44772 21 4 20.5523 4 20V4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M20 8H15V3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M12 9L12 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M9 14L12 17L15 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),x=e=>(0,l.jsxs)("svg",{width:"1em",height:"1em",fill:"none",viewBox:"-1 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,l.jsx)("path",{d:"M4,3 L4,4.77236651 C4,5.96625907 4.64816908,7.08665789 5.74030881,7.78059385 L18.2596912,15.735299 C19.3518309,16.429235 20,17.5496338 20,18.7435264 L20,21 L4,21 L4,18.7435264 C4,17.5496338 4.64816908,16.429235 5.74030881,15.735299 L18.2596912,7.78059385 C19.3518309,7.08665789 20,5.96625907 20,4.77236651 L20,3 L4,3 Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M11.7926812,9.17832792 L7.66910673,6.04502868 C7.49560596,5.91319407 7.44778491,5.64439211 7.56229541,5.4446427 C7.63196026,5.32312099 7.74997665,5.25 7.87644635,5.25 L16.1235953,5.25 C16.3314779,5.25 16.5,5.44401757 16.5,5.68335038 C16.5,5.82895346 16.4364877,5.96482435 16.3309349,6.04502868 L12.2073604,9.17832792 C12.0815952,9.27389069 11.9184464,9.27389069 11.7926812,9.17832792 Z",fill:"currentColor"})]}),w=e=>(0,l.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,l.jsx)("path",{d:"M9 6L12 3M12 3L15 6M12 3V13M7.00023 10C6.06835 10 5.60241 10 5.23486 10.1522C4.74481 10.3552 4.35523 10.7448 4.15224 11.2349C4 11.6024 4 12.0681 4 13V17.8C4 18.9201 4 19.4798 4.21799 19.9076C4.40973 20.2839 4.71547 20.5905 5.0918 20.7822C5.5192 21 6.07899 21 7.19691 21H16.8036C17.9215 21 18.4805 21 18.9079 20.7822C19.2842 20.5905 19.5905 20.2839 19.7822 19.9076C20 19.4802 20 18.921 20 17.8031V13C20 12.0681 19.9999 11.6024 19.8477 11.2349C19.6447 10.7448 19.2554 10.3552 18.7654 10.1522C18.3978 10 17.9319 10 17 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),b=e=>{let{shareData:{title:t,url:n,text:r},className:s}=e,a=async()=>{if(navigator.share)try{await navigator.share({title:t,text:r,url:n})}catch(e){console.error(e)}else try{await navigator.clipboard.writeText(null!=n?n:"")}catch(e){console.error(e)}};return(0,l.jsx)("button",{onClick:a,"aria-label":"Поделиться",className:"flex items-center gap-2 ".concat(s),children:(0,l.jsx)(w,{})})},v=e=>{let{data:t,sourceUrl:n,parsedData:r}=e;return(0,l.jsxs)("div",{className:"flex w-full items-center justify-between gap-2 p-1 text-md px-4",children:[(0,l.jsxs)("span",{className:"flex items-center gap-2 text-(--description)",children:[(0,l.jsx)(x,{"aria-label":"Среднее время чтения",className:"text-(--description)"}),r.meta.readingTime," мин."]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("a",{download:!0,href:n,"aria-label":"Скачать файл",className:"flex items-center gap-2 text-2xl text-(--description) hover:text-inherit",children:(0,l.jsx)(f,{})}),(0,l.jsx)(b,{className:"text-2xl text-(--description) hover:text-inherit",shareData:{title:t.title,url:window.location.href}})]})]})},y=e=>{let{items:t,className:n}=e,[s,a]=(0,r.useState)();return(0,r.useLayoutEffect)(()=>{var e;a(null==(e=t[0])?void 0:e.id)},[t]),(0,r.useLayoutEffect)(()=>{var e;function n(){let e=[];for(let n of(t.forEach(t=>{let{id:n}=t,l=document.getElementById(n);l&&e.push({el:l,id:n})}),e)){let{top:e,left:t}=n.el.getBoundingClientRect();if(e>=0&&t>=0){a(n.id);break}}}return n(),null==(e=document)||e.addEventListener("scroll",n),()=>{var e;null==(e=document)||e.removeEventListener("scroll",n)}},[t]),(0,l.jsxs)("nav",{className:"w-full grid gap-2 top-(--header-height) content-start sticky ".concat(n),children:[(0,l.jsx)("div",{className:"grid gap-2 px-4 pb-1 pt-2 border-b border-(--border)",children:(0,l.jsx)("h3",{className:"text-(--description) font-semibold",children:"Содержание"})}),(0,l.jsx)("ul",{className:"grid gap-2 px-4 py-1",children:t.map(e=>(0,l.jsx)(j,{item:e,depth:0,intersected:s},e.id))})]})},j=e=>{var t;let{item:n,depth:r,intersected:s}=e,a=s===n.id;return(0,l.jsxs)("li",{children:[(0,l.jsx)("a",{href:"#".concat(n.id),className:"".concat(a?"":"text-(--description) font-light"," hover:underline"),style:{paddingLeft:"".concat(20*r,"px")},children:n.render({isSelected:a,depth:r})},n.id),null==(t=n.children)?void 0:t.map(e=>(0,l.jsx)(j,{item:e,depth:r+1,intersected:s},e.id))]})},L=e=>{let{data:t,className:n,asideClassName:c}=e,[u]=(0,r.useState)("justify"),[h,m]=(0,r.useState)(t.sources[0].name),[g,f]=(0,r.useState)([]),[x,w]=(0,r.useState)([{headingsData:[],htmlString:"",id:t.sources[0].name,docxMeta:{title:null,createdBy:null,lastModifiedBy:null,version:null,keywords:null,lastModified:null},fileMeta:{fileName:null,fileSizeInBytes:null},meta:{readingTime:0}}]);(0,r.useEffect)(()=>{p(t,!1).then(w)},[t]);let b=x.find(e=>e.id===h),j=t.sources.find(e=>e.name===h),L="".concat("https://mrartman14.github.io/philosophy").concat(j.path);if((0,r.useEffect)(()=>{f(b.headingsData.map(e=>({id:e.id,render:t=>{let{isSelected:n}=t;return(0,l.jsx)("span",{className:"".concat(n?"":"text-(--description)"),style:{paddingLeft:(e.level-2)*20},children:e.text})}})))},[b.headingsData]),!b.htmlString)return null;let C=e=>{m(e)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full ".concat(n),children:(0,l.jsxs)(s.TabsRoot,{value:h,onValueChange:e=>C(e),children:[(0,l.jsx)("nav",{className:"w-full",children:(0,l.jsxs)(a.TabsList,{className:"flex items-end justify-center relative w-full z-0",render:(0,l.jsx)("ul",{className:"flex items-center",style:{margin:0,padding:0}}),children:[(0,l.jsx)("div",{className:"w-full border-b border-b-(--border)"}),x.map(e=>(0,l.jsx)(i.TabsTab,{value:e.id,render:(0,l.jsx)("li",{style:{margin:0}}),className:"flex px-2 py-1 items-center justify-center border-b border-b-(--border) data-[selected]:border-b-0 outline-none select-none before:inset-x-0 focus-visible:relative focus-visible:before:absolute focus-visible:before:outline text-(--description) data-[selected]:text-inherit",children:(0,l.jsx)("h4",{className:"text-lg md:text-2xl",style:{margin:0,color:"inherit"},children:e.id})},e.id)),(0,l.jsx)("div",{className:"w-full border-b border-b-(--border)"}),(0,l.jsx)(o.TabsIndicator,{className:"border border-(--border) rounded-lg border-b-0 rounded-bl-[0px] rounded-br-[0px] h-full absolute top-1/2 left-0 z-[-1] w-[var(--active-tab-width)] -translate-y-1/2 translate-x-[var(--active-tab-left)] transition-all duration-200 ease-in-out"})]})}),x.map(e=>(0,l.jsx)(d.TabsPanel,{value:e.id,tabIndex:-1,children:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)(v,{data:t,parsedData:e,sourceUrl:L}),(0,l.jsx)("style",{children:"\n                      #".concat(e.id," p {\n                        text-align: ").concat(u,";\n                      }\n                    ")}),(0,l.jsx)("article",{id:e.id,className:"px-4 w-full",dangerouslySetInnerHTML:{__html:e.htmlString}})]})},e.id))]})}),(0,l.jsx)(y,{items:g,className:"".concat(c)})]})}},66587:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var l=n(198);let r="lessons",s={lastCount:"lastCount",viewed:"viewed",lastViewedLessonIds:"lastViewedLessonIds"},a=async()=>(0,l.P2)("lessonDB",1,{upgrade(e){e.objectStoreNames.contains(r)||e.createObjectStore(r)}});class i{async getLastLessonsCount(){var e;let t=await a();return null!=(e=await t.get(r,s.lastCount))?e:0}async setLastLessonsCount(e){let t=await a();await t.put(r,e,s.lastCount)}async getViewedLessonIds(){var e;let t=await a();return null!=(e=await t.get(r,s.viewed))?e:[]}async markLessonViewed(e){let t=await a(),n=await this.getViewedLessonIds();n.includes(e)||(n.push(e),await t.put(r,n,s.viewed))}async getLastViewedLessonIds(){var e;let t=await a();return null!=(e=await t.get(r,s.lastViewedLessonIds))?e:[]}async setLastViewedLessonId(e){var t;let n=await a(),l=null!=(t=await n.get(r,s.lastViewedLessonIds))?t:[];(l=l.filter(t=>t!==e)).push(e),l.length>3&&(l=l.slice(l.length-3)),await n.put(r,l,s.lastViewedLessonIds)}}let o=new i},73125:(e,t,n)=>{"use strict";n.d(t,{ScrollButton:()=>s});var l=n(95155),r=n(12115);let s=e=>{let{className:t}=e,[n,s]=(0,r.useState)(!0),[a,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{s(0===window.scrollY);let e=document.documentElement.offsetHeight,t=window.innerHeight;i(e-(t+document.documentElement.scrollTop)<=10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.jsxs)("div",{className:"".concat(t," grid gap-1 items-end"),children:[(0,l.jsxs)("button",{"aria-label":"скролл вверх",className:"flex justify-end gap-2 bg-(--text-pane) rounded-full px-3 py-1 md:px-4 md:bg-transparent text-(--description) transition-opacity ".concat(n?"opacity-0":"opacity-100"),onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[(0,l.jsx)("span",{className:"hidden md:inline",children:"Вверх"})," ","↑"]}),(0,l.jsxs)("button",{"aria-label":"скролл вниз",className:"flex justify-end gap-2 bg-(--text-pane) rounded-full px-3 py-1 md:px-4 md:bg-transparent text-(--description) transition-opacity ".concat(a?"opacity-0":"opacity-100"),onClick:()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),children:[(0,l.jsx)("span",{className:"hidden md:inline",children:"Вниз"})," ","↓"]})]})}},89308:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.t.bind(n,33063,23)),Promise.resolve().then(n.t.bind(n,15621,23)),Promise.resolve().then(n.bind(n,30508)),Promise.resolve().then(n.bind(n,99801)),Promise.resolve().then(n.bind(n,73125)),Promise.resolve().then(n.bind(n,28379))},99801:(e,t,n)=>{"use strict";n.d(t,{LessonViewObserver:()=>s});var l=n(12115),r=n(66587);let s=e=>{let{slug:t}=e;return(0,l.useEffect)(()=>{r.o.setLastViewedLessonId(t)},[t]),null}}},e=>{var t=t=>e(e.s=t);e.O(0,[444,63,874,828,520,16,441,684,358],()=>t(89308)),_N_E=e.O()}]);