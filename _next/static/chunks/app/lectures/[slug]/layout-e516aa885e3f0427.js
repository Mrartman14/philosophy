(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{5860:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.t.bind(n,33063,23)),Promise.resolve().then(n.bind(n,35466)),Promise.resolve().then(n.bind(n,99801)),Promise.resolve().then(n.bind(n,73125))},35466:(e,t,n)=>{"use strict";n.d(t,{LectureTabs:()=>w});var s=n(95155),r=n(6874),a=n.n(r),o=n(35695),i=n(92853),l=n(11681),c=n(54231),d=n(44671),u=n(92156);function w(e){let{sources:t,children:n}=e,r="rounded-lg rounded-bl-[0px] rounded-br-[0px]",{slug:w,source:b}=(0,o.useParams)();return(0,s.jsxs)(i.TabsRoot,{value:b,className:"w-full md:mt-[-40px]",children:[(0,s.jsx)("nav",{className:"w-full grid grid-cols-1 overflow-x-auto",children:(0,s.jsxs)(l.TabsList,{render:(0,s.jsx)("ul",{className:"flex min-w-max whitespace-nowrap items-end justify-center relative w-full z-0"}),children:[(0,s.jsx)("div",{className:"border-b border-b-(--border) min-w-4 w-full md:w-4"}),t.map(e=>(0,s.jsx)(c.TabsTab,{value:e.slug,render:(0,s.jsx)("li",{}),className:"".concat(r," border-b border-b-(--border) p-[1px] data-[selected]:border-b-transparent outline-none select-none before:inset-x-0 focus-visible:relative focus-visible:before:absolute focus-visible:before:outline text-(--description) data-[selected]:text-inherit hover:text-inherit"),children:(0,s.jsx)(a(),{href:"/lectures/".concat(w,"/sources/").concat(e.slug),children:(0,s.jsx)("h4",{className:"".concat(r," text-lg md:text-2xl font-semibold px-2 py-1"),children:e.name})})},e.slug)),(0,s.jsx)("div",{className:"w-full border-b border-b-(--border) min-w-4"}),(0,s.jsx)(d.TabsIndicator,{className:"".concat(r," border border-(--border) border-b-0 h-full absolute top-1/2 left-0 z-[-1] w-[var(--active-tab-width)] -translate-y-1/2 translate-x-[var(--active-tab-left)] transition-all duration-200 ease-in-out")})]})}),(0,s.jsx)(u.TabsPanel,{value:b,className:"w-full grid grid-cols-1",children:n})]})}},73125:(e,t,n)=>{"use strict";n.d(t,{ScrollButton:()=>a});var s=n(95155),r=n(12115);let a=e=>{let{className:t=""}=e,[n,a]=(0,r.useState)(!0),[o,i]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{a(window.scrollY<=0);let e=document.documentElement.offsetHeight,t=window.innerHeight;i(e-(t+document.documentElement.scrollTop)<=10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let l="flex justify-end gap-2 bg-(--text-pane) rounded-full px-4 py-2 md:py-1 text-(--description) hover:text-inherit transition-opacity";return(0,s.jsxs)("div",{className:"".concat(t," gap-1 flex select-none"),children:[(0,s.jsxs)("button",{"aria-label":"скролл вверх",className:"".concat(l," ").concat(n?"opacity-0":"opacity-100"),onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[(0,s.jsx)("span",{className:"hidden md:inline",children:"Вверх"})," ","↑"]}),(0,s.jsxs)("button",{"aria-label":"скролл вниз",className:"".concat(l," ").concat(o?"opacity-0":"opacity-100"),onClick:()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),children:[(0,s.jsx)("span",{className:"hidden md:inline",children:"Вниз"})," ","↓"]})]})}},96086:(e,t,n)=>{"use strict";let s,r;n.d(t,{o:()=>B});let a=(e,t)=>t.some(t=>e instanceof t),o=new WeakMap,i=new WeakMap,l=new WeakMap,c={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){if(e instanceof IDBRequest){let t=new Promise((t,n)=>{let s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{t(d(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return l.set(t,e),t}if(i.has(e))return i.get(e);let t=function(e){if("function"==typeof e)return(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(u(this),t),d(this.request)}:function(...t){return d(e.apply(u(this),t))};return(e instanceof IDBTransaction&&function(e){if(o.has(e))return;let t=new Promise((t,n)=>{let s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{t(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});o.set(e,t)}(e),a(e,s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,c):e}(e);return t!==e&&(i.set(e,t),l.set(t,e)),t}let u=e=>l.get(e),w=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],f=new Map;function p(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(f.get(t))return f.get(t);let n=t.replace(/FromIndex$/,""),s=t!==n,r=b.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||w.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,r?"readwrite":"readonly"),o=a.store;return s&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),r&&a.done]))[0]};return f.set(t,a),a}c=(e=>({...e,get:(t,n,s)=>p(t,n)||e.get(t,n,s),has:(t,n)=>!!p(t,n)||e.has(t,n)}))(c);let m=["continue","continuePrimaryKey","advance"],v={},h=new WeakMap,x=new WeakMap,g={get(e,t){if(!m.includes(t))return e[t];let n=v[t];return n||(n=v[t]=function(...e){h.set(this,x.get(this)[t](...e))}),n}};async function*y(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let n=new Proxy(t,g);for(x.set(n,t),l.set(n,u(t));t;)yield n,t=await (h.get(n)||t.continue()),h.delete(n)}function I(e,t){return t===Symbol.asyncIterator&&a(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&a(e,[IDBIndex,IDBObjectStore])}c=(e=>({...e,get:(t,n,s)=>I(t,n)?y:e.get(t,n,s),has:(t,n)=>I(t,n)||e.has(t,n)}))(c);let L="lessons",j={lastCount:"lastCount",viewed:"viewed",lastViewedLessonIds:"lastViewedLessonIds"},E=async()=>(function(e,t,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){let o=indexedDB.open(e,1),i=d(o);return s&&o.addEventListener("upgradeneeded",e=>{s(d(o.result),e.oldVersion,e.newVersion,d(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{a&&e.addEventListener("close",()=>a()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i})("lessonDB",0,{upgrade(e){e.objectStoreNames.contains(L)||e.createObjectStore(L)}});class D{async getLastLessonsCount(){var e;let t=await E();return null!=(e=await t.get(L,j.lastCount))?e:0}async setLastLessonsCount(e){let t=await E();await t.put(L,e,j.lastCount)}async getViewedLessonIds(){var e;let t=await E();return null!=(e=await t.get(L,j.viewed))?e:[]}async markLessonViewed(e){let t=await E(),n=await this.getViewedLessonIds();n.includes(e)||(n.push(e),await t.put(L,n,j.viewed))}async getLastViewedLessonIds(){var e;let t=await E();return null!=(e=await t.get(L,j.lastViewedLessonIds))?e:[]}async setLastViewedLessonId(e){var t;let n=await E(),s=null!=(t=await n.get(L,j.lastViewedLessonIds))?t:[];(s=s.filter(t=>t!==e)).push(e),s.length>3&&(s=s.slice(s.length-3)),await n.put(L,s,j.lastViewedLessonIds)}}let B=new D},99801:(e,t,n)=>{"use strict";n.d(t,{LessonViewObserver:()=>a});var s=n(12115),r=n(96086);let a=e=>{let{slug:t}=e;return(0,s.useEffect)(()=>{r.o.setLastViewedLessonId(t)},[t]),null}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,63,174,263,170,441,684,358],()=>t(5860)),_N_E=e.O()}]);