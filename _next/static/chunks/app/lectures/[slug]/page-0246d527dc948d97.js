(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{6578:(e,t,l)=>{"use strict";l.d(t,{default:()=>u});var r=l(95155),n=l(12115),i=l(76435),s=l(6874),a=l.n(s);let o=e=>{let{description:t,href:l,imageSrc:i,title:s}=e,[o,c]=(0,n.useState)(!1);return(0,r.jsxs)(a(),{href:null!=l?l:"",className:"overflow-hidden relative rounded-2xl border border-(--border) no-underline transition",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[i&&(0,r.jsx)("img",{alt:"".concat(s," image"),className:"absolute w-full h-full object-cover transition-transform duration-500",src:i,style:{margin:0,transform:o?"scale(1.2)":void 0,opacity:+!!o,pointerEvents:o?"auto":"none"}}),(0,r.jsxs)("div",{className:"w-full absolute grid p-1 ".concat(o?"rounded-2md bg-(--text-pane)":""),style:{transform:"translate(-50%, -50%)",top:"50%",left:"50%",justifyItems:"center"},children:[(0,r.jsx)("span",{className:"text-xl md:text-4xl font-bold",children:s}),(0,r.jsx)("span",{className:"text-sm md:text-lg text-(--description)",children:t})]})]},s)},c=e=>{let{items:t,className:l}=e,[i,s]=(0,n.useState)(!0),[a,o]=(0,n.useState)();return(0,n.useLayoutEffect)(()=>{var e;o(null==(e=t[0])?void 0:e.id)},[t]),(0,n.useLayoutEffect)(()=>{var e;function l(){s(0===window.scrollY);let e=[];for(let l of(t.forEach(t=>{let{id:l}=t,r=document.getElementById(l);r&&e.push({el:r,id:l})}),e)){let{top:e,left:t}=l.el.getBoundingClientRect();if(e>=0&&t>=0){o(l.id);break}}}return l(),null==(e=document)||e.addEventListener("scroll",l),()=>{var e;null==(e=document)||e.removeEventListener("scroll",l)}},[t]),(0,r.jsxs)("nav",{className:"w-full grid gap-4 content-start sticky ".concat(l),style:{top:"calc(var(--header-height) + 10px)"},children:[(0,r.jsx)("div",{className:"grid gap-4",children:(0,r.jsx)("h3",{className:"text-(--description)",children:"Содержание"})}),(0,r.jsx)("ul",{className:"grid gap-4",children:t.map(e=>(0,r.jsx)(d,{item:e,depth:0,intersected:a},e.id))}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"text-(--description) transition-opacity ".concat(i?"opacity-0":"opacity-100"),onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Листать вверх ↑"})})]})},d=e=>{var t;let{item:l,depth:n,intersected:i}=e,s=i===l.id;return(0,r.jsxs)("li",{children:[(0,r.jsx)("a",{href:"#".concat(l.id),className:"text-(--link) ".concat(s?"underline underline-offset-4":"no-underline"),style:{paddingLeft:"".concat(20*n,"px")},children:l.render({isSelected:s,depth:n})},l.id),null==(t=l.children)?void 0:t.map(e=>(0,r.jsx)(d,{item:e,depth:n+1,intersected:i},e.id))]})},h=e=>{let{className:t}=e,[l,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=()=>{let e=window.scrollY||document.documentElement.scrollTop;i(e/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.jsx)("div",{className:"w-full h-1 bg-(--border) ".concat(t),children:(0,r.jsx)("div",{className:"h-full bg-(--primary)",style:{width:"".concat(l,"%")}})})};l(21970);let u=e=>{var t;let{data:l,prevData:s,nextData:a,docxArrayBuffer:d}=e,u="/philosophy",[g,m]=(0,n.useState)(null),[p,v]=(0,n.useState)([]);(0,n.useEffect)(()=>{!async function(){let{value:e}=await (0,i.aY)({arrayBuffer:d},{includeEmbeddedStyleMap:!1,ignoreEmptyParagraphs:!0,styleMap:["comment-reference => sup","u => span.underline.decoration-1","p[style-name='Quote'] => blockquote:fresh","highlight[color='yellow'] => span.bg-amber-700","highlight[color='green'] => span.bg-green-700","highlight[color='cyan'] => span.bg-cyan-700","highlight[color='magenta'] => span.bg-pink-700","highlight[color='blue'] => span.bg-blue-700","highlight[color='red'] => span.bg-red-700","highlight[color='darkYellow'] => span.bg-yellow-700","highlight[color='darkGreen'] => span.bg-green-700","highlight[color='darkCyan'] => span.bg-cyan-700","highlight[color='darkMagenta'] => span.bg-pink-700","highlight[color='darkBlue'] => span.bg-blue-700","highlight[color='darkRed'] => span.bg-red-700","highlight[color='black'] => span.bg-black","highlight[color='white'] => span.bg-white"]}),t=new DOMParser().parseFromString(e,"text/html"),l=[];for(let e=1;e<=6;e++){let n="h"+e;t.querySelectorAll(n).forEach(t=>{var n;let i=(null!=(n=t.textContent)?n:"").replaceAll(" ","-");t.setAttribute("id",i),l.push({id:i,render:l=>{let{isSelected:n}=l;return(0,r.jsx)("span",{className:"".concat(n?"underline underline-offset-4":"no-underline"),style:{paddingLeft:(e-2)*20},children:t.textContent})}})}),m(t),v(l)}}()},[d]);let x=[{href:s?"/lectures/".concat(null==s?void 0:s.slug):void 0,title:"← Назад",description:null==s?void 0:s.title,imageSrc:"".concat(u).concat(null==s?void 0:s.cover)},{href:a?"/lectures/".concat(null==a?void 0:a.slug):void 0,title:"Вперёд →",description:null==a?void 0:a.title,imageSrc:"".concat(u).concat(null==a?void 0:a.cover)}];return(0,r.jsxs)("div",{className:"docx-viewer grid gap-4 static w-full items-start justify-items-center grid-cols-1 md:grid-cols-[1fr_250px]",children:[(0,r.jsx)("div",{className:"fixed top-0 w-full z-50",children:(0,r.jsx)(h,{className:"sticky top-0"})}),(0,r.jsxs)("div",{className:"".concat("prose dark:prose-invert lg:prose-xl"," ").concat("w-full grid border-l border-r border-(--border) p-4"),children:[l.cover?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:"".concat(u).concat(l.cover),alt:"".concat(l.title," lesson preview"),style:{margin:0}}),(0,r.jsx)("div",{className:"absolute p-0.5 bottom-2 right-0 w-full bg-(--text-pane)",style:{textAlign:"right"},children:(0,r.jsx)("h1",{children:l.title})})]}):(0,r.jsx)("h1",{children:l.title}),(0,r.jsx)("article",{dangerouslySetInnerHTML:{__html:null!=(t=null==g?void 0:g.body.innerHTML)?t:""}}),(0,r.jsx)("div",{className:"grid grid-cols-2 grid-rows-[150] gap-4 w-full",children:x.map(e=>(0,r.jsx)(o,{...e},e.title))})]}),(0,r.jsx)(c,{className:"docx-viewer-aside hidden md:grid",items:p})]})}},21970:()=>{},49154:(e,t,l)=>{Promise.resolve().then(l.bind(l,6578))}},e=>{var t=t=>e(e.s=t);e.O(0,[195,874,588,441,684,358],()=>t(49154)),_N_E=e.O()}]);