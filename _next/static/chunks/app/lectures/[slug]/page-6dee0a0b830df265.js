(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{21970:()=>{},31273:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var l=r(95155),n=r(12115),i=r(92853),a=r(11681),s=r(54231),o=r(79268),c=r(92156),d=r(76435),u=r(49641).Buffer;async function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await Promise.all(e.sources.map(e=>g(e,t)))}async function g(e){let t,r,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="".concat("https://mrartman14.github.io/philosophy").concat(e.path),i=await fetch(n),a=await i.arrayBuffer(),s={};l?s.buffer=u.from(a):s.arrayBuffer=a;let{value:o}=await (0,d.aY)({...s},{includeEmbeddedStyleMap:!1,ignoreEmptyParagraphs:!0,styleMap:["comment-reference => sup","u => span.underline.decoration-1","p[style-name='Quote'] => blockquote:fresh","highlight[color='yellow'] => span.bg-amber-700","highlight[color='green'] => span.bg-green-700","highlight[color='cyan'] => span.bg-cyan-700","highlight[color='magenta'] => span.bg-pink-700","highlight[color='blue'] => span.bg-blue-700","highlight[color='red'] => span.bg-red-700","highlight[color='darkYellow'] => span.bg-yellow-700","highlight[color='darkGreen'] => span.bg-green-700","highlight[color='darkCyan'] => span.bg-cyan-700","highlight[color='darkMagenta'] => span.bg-pink-700","highlight[color='darkBlue'] => span.bg-blue-700","highlight[color='darkRed'] => span.bg-red-700","highlight[color='black'] => span.bg-black","highlight[color='white'] => span.bg-white"]});if(l)throw Error("not implemented yet!");{let e=new DOMParser().parseFromString(o,"text/html");r=Array.from(e.querySelectorAll("h1, h2, h3, h4, h5, h6")).map(e=>{let t=e.textContent,r=null!=t?t:"".normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),l=parseInt(e.tagName[1],10);return e.id=r,{id:r,text:t,level:l}}),t=e.body.innerHTML}return{htmlString:t,headingsData:r,version:e.name}}var m=r(6874),p=r.n(m),f=r(66766);let b=e=>{let{description:t,href:r,imageSrc:i,title:a}=e,[s,o]=(0,n.useState)(!1);return(0,l.jsxs)(p(),{href:null!=r?r:"",className:"overflow-hidden relative rounded-2xl border border-(--border) no-underline transition",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[i&&(0,l.jsx)(f.default,{fill:!0,alt:"".concat(a," image"),className:"absolute hidden md:block w-full h-full object-cover transition-transform duration-500",src:i,style:{margin:0,transform:s?"scale(1.2)":void 0,opacity:+!!s,pointerEvents:s?"auto":"none"}}),(0,l.jsxs)("div",{className:"w-full absolute grid p-1 ".concat(s?"rounded-2md bg-(--text-pane)":""),style:{transform:"translate(-50%, -50%)",top:"50%",left:"50%",justifyItems:"center"},children:[(0,l.jsx)("span",{className:"text-xl md:text-4xl font-bold",children:a}),(0,l.jsx)("span",{className:"text-sm md:text-lg text-(--description)",style:{textAlign:"center"},children:t})]})]},a)},v=e=>{let{items:t,className:r}=e,[i,a]=(0,n.useState)(!0),[s,o]=(0,n.useState)();return(0,n.useLayoutEffect)(()=>{var e;o(null==(e=t[0])?void 0:e.id)},[t]),(0,n.useLayoutEffect)(()=>{var e;function r(){a(0===window.scrollY);let e=[];for(let r of(t.forEach(t=>{let{id:r}=t,l=document.getElementById(r);l&&e.push({el:l,id:r})}),e)){let{top:e,left:t}=r.el.getBoundingClientRect();if(e>=0&&t>=0){o(r.id);break}}}return r(),null==(e=document)||e.addEventListener("scroll",r),()=>{var e;null==(e=document)||e.removeEventListener("scroll",r)}},[t]),(0,l.jsxs)("nav",{className:"w-full grid gap-4 content-start sticky ".concat(r),style:{top:"calc(var(--header-height) + 10px)"},children:[(0,l.jsx)("div",{className:"grid gap-4",children:(0,l.jsx)("h3",{className:"text-(--description)",children:"Содержание"})}),(0,l.jsx)("ul",{className:"grid gap-4",children:t.map(e=>(0,l.jsx)(x,{item:e,depth:0,intersected:s},e.id))}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:"text-(--description) transition-opacity ".concat(i?"opacity-0":"opacity-100"),onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Листать вверх ↑"})})]})},x=e=>{var t;let{item:r,depth:n,intersected:i}=e,a=i===r.id;return(0,l.jsxs)("li",{children:[(0,l.jsx)("a",{href:"#".concat(r.id),className:"text-(--link) ".concat(a?"underline underline-offset-4":"no-underline"),style:{paddingLeft:"".concat(20*n,"px")},children:r.render({isSelected:a,depth:n})},r.id),null==(t=r.children)?void 0:t.map(e=>(0,l.jsx)(x,{item:e,depth:n+1,intersected:i},e.id))]})},y=e=>{let{className:t}=e,[r,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=()=>{let e=window.scrollY||document.documentElement.scrollTop;i(e/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.jsx)("div",{className:"w-full h-1 bg-(--border) ".concat(t),children:(0,l.jsx)("div",{className:"h-full bg-(--primary)",style:{width:"".concat(r,"%")}})})};r(21970);let j=e=>{let{data:t,prevData:r,nextData:d}=e,[u,g]=(0,n.useState)([]),[m,p]=(0,n.useState)([{headingsData:[],htmlString:"",version:"Конспект"}]),[f,x]=(0,n.useState)("Конспект");(0,n.useEffect)(()=>{h(t,!1).then(p)},[t]);let{headingsData:j,htmlString:w}=m.find(e=>e.version===f),N=m.map(e=>{let{version:t}=e;return t});if((0,n.useEffect)(()=>{g(j.map(e=>({id:e.id,render:t=>{let{isSelected:r}=t;return(0,l.jsx)("span",{className:"".concat(r?"underline underline-offset-4":"no-underline"),style:{paddingLeft:(e.level-2)*20},children:e.text})}})))},[j]),!w)return null;let E=e=>{x(e)},k="/philosophy",S=[{href:r?"/lectures/".concat(null==r?void 0:r.slug):void 0,title:"← Назад",description:null==r?void 0:r.title,imageSrc:"".concat(k).concat(null==r?void 0:r.cover)},{href:d?"/lectures/".concat(null==d?void 0:d.slug):void 0,title:"Вперёд →",description:null==d?void 0:d.title,imageSrc:"".concat(k).concat(null==d?void 0:d.cover)}];return(0,l.jsxs)("div",{className:"docx-viewer grid gap-4 static w-full items-start justify-items-center grid-cols-1 md:grid-cols-[1fr_250px]",children:[(0,l.jsx)("div",{className:"fixed top-0 w-full z-50",children:(0,l.jsx)(y,{className:"sticky top-0"})}),(0,l.jsxs)("div",{className:"".concat("prose dark:prose-invert lg:prose-xl"," ").concat("w-full grid gap-4 border-l border-r border-(--border) p-4"),children:[t.cover?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:"".concat(k).concat(t.cover),alt:"".concat(t.title," lesson preview"),style:{margin:0}}),(0,l.jsx)("div",{className:"absolute p-0.5 bottom-2 right-0 w-full bg-(--text-pane)",style:{textAlign:"right"},children:(0,l.jsx)("h1",{children:t.title})})]}):(0,l.jsx)("h1",{children:t.title}),(0,l.jsxs)(i.p,{value:f,onValueChange:e=>E(e),children:[(0,l.jsxs)(a.j,{className:"flex items-center justify-center relative z-0 my-4",children:[(0,l.jsx)("div",{className:"w-full border-b border-b-(--border)"}),N.map(e=>(0,l.jsx)(s.M,{className:"flex items-center justify-center border-0 px-2 cursor-pointer outline-none select-none before:inset-x-0 before:inset-y-1 before:rounded-sm before:-outline-offset-1 before:outline-blue-800 focus-visible:relative focus-visible:before:absolute focus-visible:before:outline text-(--description) data-[selected]:text-inherit",value:e,children:(0,l.jsx)("h4",{style:{margin:0,color:"inherit"},children:e})},e)),(0,l.jsx)("div",{className:"w-full border-b border-b-(--border)"}),(0,l.jsx)(o.E,{className:"border border-(--border) rounded-lg h-12 absolute top-1/2 left-0 z-[-1] w-[var(--active-tab-width)] -translate-y-1/2 translate-x-[var(--active-tab-left)] transition-all duration-200 ease-in-out"})]}),m.map(e=>(0,l.jsx)(c.R,{value:e.version,tabIndex:-1,"data-version":e.version,render:e=>(0,l.jsx)("article",{...e}),dangerouslySetInnerHTML:{__html:e.htmlString}},e.version))]}),(0,l.jsx)("div",{className:"grid grid-cols-2 grid-rows-[150] gap-4 w-full",children:S.map(e=>e.href?(0,l.jsx)(b,{...e},e.title):(0,l.jsx)("div",{},e.title))})]}),(0,l.jsx)(v,{className:"docx-viewer-aside hidden md:grid",items:u})]})}},49154:(e,t,r)=>{Promise.resolve().then(r.bind(r,31273))}},e=>{var t=t=>e(e.s=t);e.O(0,[195,63,874,530,835,441,684,358],()=>t(49154)),_N_E=e.O()}]);