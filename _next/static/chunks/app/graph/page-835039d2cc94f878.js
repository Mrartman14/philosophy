(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{11082:(e,t,n)=>{Promise.resolve().then(n.bind(n,71957)),Promise.resolve().then(n.bind(n,83197))},71957:(e,t,n)=>{"use strict";n.d(t,{PhilosophersTimeline:()=>w});var r=n(95155),i=n(74651),o=n.n(i),l=n(12115),s=n(18636),a=n(44462),c=n(87085),h=n(29573),d=n(21773),u=n(96223);let m=e=>{let{onChange:t,value:n,className:i}=e;return(0,r.jsx)(a.g,{value:n,min:1,max:20,onValueChange:t,className:i,children:(0,r.jsx)(c.X,{className:"flex w-20 touch-none items-center py-3 select-none",children:(0,r.jsxs)(h.h,{className:"h-2 w-full rounded bg-(--border) select-none",children:[(0,r.jsx)(d.X,{className:"rounded bg-gray-700 select-none"}),(0,r.jsx)(u.O,{className:"cursor-pointer size-3 rounded-full bg-(--link) select-none focus-visible:outline focus-visible:outline-blue-800"})]})})})};var f=n(8107),x=n(41565);let g=e=>{let{x:t,y:n,philosopher:i}=e;return(0,r.jsx)("foreignObject",{x:t-15,y:n-15,width:30,height:30,children:(0,r.jsx)(f.z,{trigger:(0,r.jsx)("div",{style:{width:30,height:30,aspectRatio:"1 / 1",borderRadius:"50%",backgroundImage:"url(".concat("/philosophy").concat(i.imageSrc,")"),backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"}}),content:(0,r.jsx)(x.z,{data:i})})})};var p=n(42104),b=n(9495);function v(e,t){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return Math.abs(n)%t}let j=(e,t)=>0===t?"M".concat(e.x," ").concat(e.y):"L".concat(e.x," ").concat(e.y),w=()=>{let[{height:e,width:t},n]=(0,l.useState)({width:0,height:0}),[i,a]=(0,l.useState)(1);(0,l.useEffect)(()=>{n({width:document.documentElement.clientWidth/1,height:document.documentElement.clientHeight/1-50})},[]);let[c,h]=(0,l.useState)(s.GSI),d=(0,l.useRef)(null),u=Math.min(...b.b.map(e=>e.from)),f=Math.max(...b.b.map(e=>e.to)),x=t*i,w=(0,s.m4Y)().domain([u,f]).range([0,x-0]);(0,l.useEffect)(()=>{if(!d.current)return;let e=(0,s.Ltv)(d.current),t=(0,s.s_O)().scaleExtent([.1,15]).on("zoom",e=>h(e.transform));e.call(t)},[]);let y=(0,l.useMemo)(()=>{let t=b.b.map(t=>({...t,x:Math.trunc(w((t.from+t.to)/2)),y:Math.trunc(e-150)}));return Object.entries(o()(p.Q,e=>e.section)).map((e,n)=>{let[r,i]=e,o=0*n,l=i.toSorted((e,t)=>e.order-t.order),s=[];return l.toSorted((e,t)=>e.order-t.order).forEach((e,i)=>{let l=(n+1)*100+6*i,a=e.mentions.map(e=>{var n;return null!=(n=t.find(t=>t.name===e))?n:null}).filter(e=>null!==e),c=[],h=[];a.forEach(t=>{let{x:n,y:i,name:s}=t;c.push({point:{x:n+o,y:i-l},lesson:e,chapter:r,mention:s}),h.push({chapter:r,lesson:e,point:{x:n,y:i},mention:s}),h.push({chapter:r,lesson:e,point:{x:n+o,y:i-l},mention:s})});let d={chapter:r,lessonPoints:c,lesson:e.title,connectionPoints:h};s.push(d)}),s})},[e,w]),M=(0,l.useMemo)(()=>{let e={.05:1e3,1:500,2:100,3:50,8:25},t=1e4;for(let n of Object.keys(e).map(Number).sort((e,t)=>t-e))if(c.k>=n){t=e[n];break}let n=[];for(let e=Math.ceil(u/t)*t;e<=f;e+=t)n.push(e);return n},[f,u,c.k]),k=c.rescaleX(w);return(0,r.jsxs)("div",{className:"relative overflow-x-auto w-full",children:[(0,r.jsx)(m,{value:i,onChange:a,className:"absolute top-2 right-2"}),(0,r.jsxs)("svg",{className:"fill-current",ref:d,width:t,height:e,children:[(0,r.jsx)("g",{transform:c.toString(),"data-id":"lessons",children:y.map((e,t)=>(0,r.jsx)("g",{children:e.map(e=>{var t,n;let{lesson:i,chapter:o,lessonPoints:l}=e,s=1===l.length,a=o.length+1,h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e.substring(0,t),r=e.substring(t),i=v(n,360),o=40+v(r,40),l=40+v(r.split("").reverse().join(""),30);return"hsl(".concat(i,", ").concat(o,"%, ").concat(l,"%)")}("".concat(o,"-").concat(i),a),d=s?(0,r.jsx)("circle",{cx:l[0].point.x,cy:l[0].point.y,r:2.5,fill:h}):(0,r.jsx)("path",{d:l.map((e,t)=>{let{point:n}=e;return j(n,t)}).join(" "),stroke:h,strokeWidth:5,fill:"none"},"".concat(i)),u={x:null!=(t=function(e){return e&&0!==e.length?e.reduce((e,t)=>e+t.x,0)/e.length:null}(l.map(e=>e.point)))?t:0,y:null!=(n=l[0].point.y)?n:0};return(0,r.jsxs)("g",{children:[d,c.k>=1&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("text",{x:u.x,y:u.y,className:"font-semibold",textAnchor:"middle",dominantBaseline:"middle",fontSize:12/c.k,children:i})})]},i)})},t))}),(0,r.jsx)("line",{y1:e-150,y2:e-150,x1:0,x2:t,stroke:"var(--link)",strokeWidth:2}),(0,r.jsx)("g",{"data-id":"timestamps",children:M.map(t=>(0,r.jsx)("text",{textAnchor:"middle",className:"text-(--description) font-light",x:Math.trunc(k(t)),y:Math.trunc(e-150+40),children:t<0?"-".concat(Math.abs(t)):t},t))}),(0,r.jsx)("g",{"data-id":"philosophers",children:b.b.map(t=>(0,r.jsx)(g,{scale:c.k,x:Math.trunc(k((t.from+t.to)/2)),y:Math.trunc(e-150),philosopher:t},t.name))})]})]})}},83197:(e,t,n)=>{"use strict";n.d(t,{Gradient:()=>o});var r=n(95155),i=n(12115);let o=()=>((0,i.useLayoutEffect)(()=>{let e=document.getElementById("gradient-bg"),t=e.getContext("2d");if(!t)return;let n=0;function r(){if(!t)return;let n=window.devicePixelRatio||1;e.width=window.innerWidth*n,e.height=window.innerHeight*n,e.style.width=window.innerWidth+"px",e.style.height=window.innerHeight+"px",t.setTransform(1,0,0,1,0,0),t.scale(n,n)}return!function r(){if(!t)return;let i=e.width,o=e.height,l=i/32,s=o/32;for(let e=0;e<32;e++)for(let r=0;r<32;r++){var a,c,h,d,u;t.fillStyle="rgb(".concat(Math.floor(192+64*Math.cos(((a=e)*a-(c=r)*c)/300+n)),",").concat((h=e,d=r,Math.floor(192+64*Math.sin((h*h*Math.cos((u=n)/4)+d*d*Math.sin(u/3))/300))),",").concat(Math.floor(192+64*Math.sin(5*Math.sin(n/9)+((e-100)**2+(r-100)**2)/1100)),")"),t.fillRect(e*l,r*s,l+1,s+1)}n+=.0025,requestAnimationFrame(r)}(),r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),(0,r.jsx)("canvas",{id:"gradient-bg",style:{position:"fixed",top:0,left:0,opacity:.05,width:"100vw",height:"100vh",zIndex:-1}}))}},e=>{var t=t=>e(e.s=t);e.O(0,[545,63,530,736,931,460,441,684,358],()=>t(11082)),_N_E=e.O()}]);