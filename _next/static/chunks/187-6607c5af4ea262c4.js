(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{4217:(e,t,r)=>{var n=r(36713),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},26469:()=>{},36713:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},36815:(e,t,r)=>{var n=r(4217),i=r(67460),l=r(70771),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(l(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?d(e.slice(2),r?2:8):a.test(e)?o:+e}},45964:(e,t,r)=>{var n=r(67460),i=r(76685),l=r(36815),o=Math.max,a=Math.min;e.exports=function(e,t,r){var s,c,d,u,f,h,v=0,p=!1,m=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function x(t){var r=s,n=c;return s=c=void 0,v=t,u=e.apply(n,r)}function w(e){var r=e-h,n=e-v;return void 0===h||r>=t||r<0||m&&n>=d}function E(){var e,r,n,l=i();if(w(l))return y(l);f=setTimeout(E,(e=l-h,r=l-v,n=t-e,m?a(n,d-r):n))}function y(e){return(f=void 0,g&&s)?x(e):(s=c=void 0,u)}function b(){var e,r=i(),n=w(r);if(s=arguments,c=this,h=r,n){if(void 0===f)return v=e=h,f=setTimeout(E,t),p?x(e):u;if(m)return clearTimeout(f),f=setTimeout(E,t),x(h)}return void 0===f&&(f=setTimeout(E,t)),u}return t=l(t)||0,n(r)&&(p=!!r.leading,d=(m="maxWait"in r)?o(l(r.maxWait)||0,t):d,g="trailing"in r?!!r.trailing:g),b.cancel=function(){void 0!==f&&clearTimeout(f),v=0,s=h=c=f=void 0},b.flush=function(){return void 0===f?u:y(i())},b}},48627:(e,t,r)=>{"use strict";r.d(t,{ScrollProgressBar:()=>l});var n=r(95155),i=r(12115);r(57039);let l=e=>{let{className:t,targetElementId:r}=e,[l,o]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=document.getElementById(r);if(!e)return;let t=()=>{let t=e.getBoundingClientRect(),r=window.innerHeight,n=e.offsetHeight;if(n<=r)return void o(0);let i=window.scrollY+t.top;o(100*Math.min(Math.max((window.scrollY-i)/(n-r),0),1))};return t(),window.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[r]),(0,n.jsx)("progress",{max:100,value:l,"aria-label":"reading progress",className:"scroll-progress-bar w-full bg-transparent overflow-hidden ".concat(l>0?"h-1":"h-0"," ").concat(t)})}},57039:()=>{},58265:(e,t,r)=>{"use strict";r.d(t,{DocxViewerAside:()=>d});var n=r(95155),i=r(12115),l=r(91959),o=r.n(l);r(26469);let a=e=>{let{items:t,className:r}=e,l=(0,i.useRef)(null),a=(0,i.useRef)(null),[d,u]=(0,i.useState)(!1),[f,h]=(0,i.useState)();return(0,i.useLayoutEffect)(()=>{var e;h(null==(e=t[0])?void 0:e.id)},[t]),(0,i.useLayoutEffect)(()=>{var e;let r=o()(()=>{let e=[];for(let r of(t.forEach(function t(r){var n,i;let l=document.getElementById(r.id);l&&(e.push({el:l,id:r.id}),(null==(n=r.children)?void 0:n.length)!==0&&(null==(i=r.children)||i.forEach(t)))}),e)){let{top:e,left:t}=r.el.getBoundingClientRect();if(e>=0&&t>=0){if(h(r.id),l.current){let e=l.current.getBoundingClientRect(),t=document.getElementById(c(r.id)).getBoundingClientRect(),n=l.current.scrollTop+(t.top-e.top)-16;l.current.scrollTo({top:n,behavior:"smooth"})}break}}},100);return r(),null==(e=document)||e.addEventListener("scroll",r),()=>{var e;null==(e=document)||e.removeEventListener("scroll",r)}},[t]),(0,i.useEffect)(()=>{let e=l.current,t=a.current;if(!e||!t)return;let r=getComputedStyle(e).top||"0px",n=new IntersectionObserver(e=>{let[t]=e;u(!t.isIntersecting)},{root:null,threshold:0,rootMargin:"-".concat(r," 0px 0px 0px")});return n.observe(t),()=>n.disconnect()},[]),(0,n.jsxs)("aside",{className:"w-full h-full grid content-start ".concat(r),children:[(0,n.jsx)("div",{className:"px-4 border-b border-(--border) flex items-center",style:{height:40,minHeight:40,maxHeight:40},children:(0,n.jsx)("h3",{className:"text-(--description) font-semibold",children:"Содержание"})}),(0,n.jsx)("div",{ref:a,style:{height:1,margin:0,padding:0}}),(0,n.jsx)("ul",{ref:l,className:"grid p-4 sticky top-(--header-height) self-start overflow-y-scroll",style:{maxHeight:d?"calc(100vh - var(--header-height))":"calc(100vh - var(--header-height) - ".concat(40,"px)")},children:t.map(e=>(0,n.jsx)(s,{item:e,depth:0,intersected:f},e.id))})]})},s=e=>{var t,r;let{item:i,depth:l,intersected:o}=e,a=o===i.id,d=(null!=(r=i.children)?r:[]).length>0;return(0,n.jsxs)("li",{className:"aside-menu-item",children:[(0,n.jsx)("a",{href:"#".concat(i.id),id:c(i.id),className:"".concat(a?"":"text-(--description)"," hover:underline"),children:i.render({isSelected:a,depth:l})},i.id),d&&(0,n.jsx)("ul",{className:"pl-4 border-l border-(--border)",children:null==(t=i.children)?void 0:t.map(e=>(0,n.jsx)(s,{item:e,depth:l+1,intersected:o},e.id))})]})};function c(e){return"".concat(e,"-anchor")}let d=e=>{let{parsedData:t}=e,[r,l]=(0,i.useState)([]);return(0,i.useEffect)(()=>{l(t.headingsData.map(function e(t){var r,i;return{id:t.id,render:e=>{let{isSelected:r}=e;return(0,n.jsx)("span",{className:"flex py-1 ".concat(r?"":"text-(--description)"),children:t.text})},children:null!=(i=null==(r=t.children)?void 0:r.map(e))?i:[]}}))},[t.headingsData]),(0,n.jsx)(a,{items:r,className:"hidden md:grid"})}},76685:(e,t,r)=>{var n=r(82500);e.exports=function(){return n.Date.now()}},91959:(e,t,r)=>{var n=r(45964),i=r(67460);e.exports=function(e,t,r){var l=!0,o=!0;if("function"!=typeof e)throw TypeError("Expected a function");return i(r)&&(l="leading"in r?!!r.leading:l,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:l,maxWait:t,trailing:o})}}}]);